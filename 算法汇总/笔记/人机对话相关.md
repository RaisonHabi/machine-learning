### 1.jieba自定义词典：jieba.load_userdict('路径') 


### 2.bert使用的激活函数：
gelu（Gaussian error linear units，高斯误差线性单元） 
Gelu则在relu的基础上加入了统计的特性。ReLu(Rectified Linear Units)激活函数。 

三大特点：
MLM（通过上下文预测被mask 的单词，类似完形填空）、attention encoder、next sentence prediction （NSP）


### 3.lda关键词：senttopic = self.model[sentcorpus] 
#计算输入文本和每个词的主题分布相似度 


### 4.CRF
一种判别式的概率图模型。条件随机场是在给定随机变量X条件下，随机变量Y的马尔科夫随机场。   
原则上，条件随机场的图模型布局是可以任意给定的，但比较常用的是定义在线性链上的特殊的条件随机场，称为线性链条件随机场。  
最大团上的随机变量的函数的乘积形式的操作，称为概率无向图模型的因子分解。


### 5.Combinatory categorial grammar 
(CCG组合分类语法)是一种有效的可解析的语言学文法。因为它在表层的句法和深层的语义中构建了一种交互关系，是一种短语结构文法（而不是dependency grammar）。 

&nbsp;
## 人机对话可以分为以下四个子问题：开放域闲聊、任务驱动的多轮对话、问答和推荐。 

一. 自然语言聊天顾名思义，就是不局限话题的聊天，即在用户的 query 没用明确的信息或服务获取需求（如 social dialogue）时系统做出的回应。自然语言聊天在现有的人机对话系统中，主要起到拉近距离，建立信任关系，情感陪伴，顺滑对话过程（例如在任务类对话无法满足用户需求时）和提高用户粘性的作用。 

二. 任务驱动的多轮对话用户带着明确的目的而来，希望得到满足特定限制条件的信息或服务，例如：订餐，订票，寻找音乐、电影或某种商品等。因为用户的需求可以比较复杂，可能需要分多轮进行陈述，用户也可能在对话过程中不断修改或完善自己的需求。 
此外，当用户的陈述的需求不够具体或明确的时候，机器也可以通过询问、澄清或确认来帮助用户找到满意的结果。 
因此，任务驱动的多轮对话不是一个简单的自然语言理解加信息检索的过程，而是一个决策过程，需要机器在对话过程中不断根据当前的状态决策下一步应该采取的最优动作（如：提供结果，询问特定限制条件，澄清或确认需求，等等）从而最有效的辅助用户完成信息或服务获取的任务。 

三. 问答系统侧重于一问一答，即直接根据用户的问题给出精准的答案。问答更接近一个信息检索的过程，虽然也可能涉及简单的上下文处理，但通常是通过指代消解和 query 补全来完成的。 
问答系统和任务驱动的多轮对话最根本的区别在于系统是否需要维护一个用户目标状态的表示和是否需要一个决策过程来完成任务。 
由于人们使用语言的随意性和多样性，带来了问题理解的困难。给定一个问题，电脑要理解问题的类型（事实类，定义类，选择性，观点类等）和答案的类型（人、地点、机构、定义、电影名字，文字序列等等）。 

四. 推荐 
前面的开放域聊天，任务驱动的多轮对话和问答系统本质上都是被动的响应用户的 query，而推荐系统则是根据当前的用户 query 和历史的用户画像主动推荐用户可能感兴趣的信息或者服务。 

五.中控决策模块（意图识别） 
上述的四类系统各自要解决的问题不同，实现技术迥异，用一套系统实现所有功能是不现实的。通常要将上述功能整合在一个应用中，我们还需要一个中控决策模块。 
这个模块不仅负责需求和问题的分类，还包括任务之间的澄清、确认和跨领域的引导，所以最理想的技术实现也应该通过一个决策过程来完成。它相当于大脑，基于对用户对话的分析判断，发现并满足用户的直接和潜在需求，判断用哪个功能满足用户需求，同时在多次对话中，多维度建立用户画像， 



自然语言理解： 
将自然语言的 query 识别成结构化的语义表示，通常被称作 dialogue act 由 communicative function 和 slot-value pairs 组成，其中 communicative function 表示 query 的类型（如：陈述需求，询问属性，否定，选择疑问，等等）而每个 slot-value pair 则表达一个限制条件（constraint），也可理解为用户目标的一个组成单元。 

对话状态跟踪： 
英文中这个概念叫 Dialogue State Tracking（DST）。概括的说，对话状态跟踪就是根据多轮的对话来确定用户当前的目标（user goal）到底是什么的过程。为了更好的理解这个过程，我们先来看看什么是对话状态。一个对话状态中，最主要的信息是用户的目的，即 user goal。用户目的的表示形式是一组 slot-value pairs 的组合。 

概率分布，称作置信状态（belief state或者belief）： 
对话状态跟踪有时也称作置信状态跟踪（belief对话状态跟踪有时也称作置信状态跟踪（belief state tracking）。用户的目的在一个置信状态中的表示可以分为两部分：首先每个 slot 上都可以有多个可能的 value，每个 value 对应一个置信概率，这就形成了每个 slot 上的边缘置信状态（marginal belief）；然后这些可能的 slot-value pairs 的组合的概率分布就形成的联合置信状态 

对话策略： 
即 policy，是根据上面介绍的置信状态来决策的过程。对话策略的输出是一个系统动作（system action）。和用户的 dialogue act 类似，系统动作也是一个由 communicative function 和 slot-value pairs 组成的语义表示，表明系统要执行的动作的类型和操作参数。“每次决策的目标不是当前动作的对与错，而是当前动作的选择会使未来收益的预期（expected long-term reward）最大化”。 

自然语言生成：natural language generation（NLG）的任务是将对话策略输出的语义表示转化成自然语言的句子，反馈给用户。 






任务型多轮对话指的是以完成任务为目的，通过和用户的多轮对话收集相关信息，决定流程的流转或部分依赖条件的确认，然后根据预设给出答案或调用外部系统完成任务。 
在和用户的交互中，机器人通过询问、澄清、让用户确认等方式引导用户，让对话能够保持在相对规范的框架内，提高多轮对话的完成率。 

对于任务型的多轮对话，主要目的是在于信息的收集和决策，通常信息收集通过NER（命名实体识别）或配合调用外部的数据系统来实现，通常这里的信息收集被称作填槽，待收集的信息类型被称作槽位。 

填槽是任务型多轮对话的核心，通过自然语言处理的技术解析出用户对话中的关键信息来进行决策。 
ER通常是通过正则加上训练模型的方式来实现的，其中对于同一个命名实体说法的扩展是实践过程中需要关注的因素。
