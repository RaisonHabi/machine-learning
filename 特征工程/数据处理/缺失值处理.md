## 通则
详见参考，写的很棒  
**1.工具包自动处理数据缺失不代表具体的算法可以处理缺失项**  
**2.对于有缺失的数据：以决策树为原型的模型优于依赖距离度量的模型**  

##  机器学习工具库开发的“哲学”
开发者在封装工具库的时候就已经考虑到了使用者可能导入了含有缺失值的数据，所以加了一个缺失值处理的函数。  
**但是，模型/算法本身不应该处理缺失值，处理缺失值的应该是用户。因为数据的精髓只有用户自己明白。**  

工具包提供自动数据清理的功能的好处：  
> a.防止用户导入的数据不符合模型要求而导致失败  
b.节省用户的时间，提供一站式服务

工具包提供自动数据清理的功能的风险：
> a.简单粗暴的处理模式会影响模型的结果，自动化的数据清理不可靠  
b.用户应该提供符合模型要求的数据，这不是算法工具库的责任。算法工具包的默认要求就是用户提供适合的数据，因为用户对数据有更深刻的理解  
c.可能会大幅度增加模型的运算时间

一些机器学习框架，相关的问题也想过很多。是否替使用者做了本该他自己做的事情，这需要在易用性和准确性中间找平衡。

## 决策树模型怎么处理异常值？
在介绍RF时，Breiman就提出两种解决缺失值的方法  
> 方法1(快速简单但效果差)：把数值型变量(numerical variables)中的缺失值用其所对应的类别中(class)的中位数(median)替换。把描述型变量(categorical variables)缺失的部分用所对应类别中出现最多的数值替代(most frequent non-missing value)。  
方法2(耗时费力但效果好)：虽然依然是使用中位数和出现次数最多的数来进行替换，方法2引入了权重。即对需要替换的数据先和其他数据做相似度测量(proximity measurement)，在补全缺失点是相似的点的数据会有更高的权重W。

Breiman说明了第二种方法的效果更好，但需要的时间更长。这也是为什么工具包中一般不提供数据补全的功能，因为会影响到工具包的效率。
## xgboost怎么处理缺失值？
xgboost把缺失值当做稀疏矩阵来对待，本身的在节点分裂时不考虑的缺失值的数值。  
缺失值数据会被分到左子树和右子树分别计算损失，选择较优的那一个。  
如果训练中没有数据缺失，预测时出现了数据缺失，那么默认被分类到右子树。
## reference
[怎么理解决策树、xgboost能处理缺失值？而有的模型(svm)对缺失值比较敏感呢?](https://www.zhihu.com/question/58230411/answer/242037063)
