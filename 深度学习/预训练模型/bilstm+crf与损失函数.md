BiLSTM层的输出是每个标签的得分，如单词w0，BiLSTM的输出为1.5（B-Person），0.9（I-Person），0.1(B-Organization), 0.08 (I-Organization) and 0.05 (O)，这些得分就是CRF层的输入。

将BiLSTM层预测的得分喂进CRF层，具有最高得分的标签序列将是模型预测的最好结果。

### 如果没有CRF层将如何
根据上文，能够发现，如果没有CRF层，即我们用下图所示训练BiLSTM命名实体识别模型：   
按照上述方法，对于x虽然我们得到了正确的标签，但是大多数情况下是不能获得正确标签的，例如下图的例子：
### CRF能够从训练数据中学习到约束条件
CRF层可以对最终的约束标签添加一些约束条件，从而保证预测标签的有效性。而这些约束条件是CRF层自动从训练数据中学到。
### CRF层
在CRF层的损失函数中，有两种类型的得分，这两种类型的得分是CRF层的关键概念。
**发射得分, 转移得分**
### CRF损失函数
CRF损失函数包含了真实路径得分和所有可能路径的总得分，如果预测对的情况下，真实路径在所有可能路径中得分应该是最高的。


## reference
[（四十四）通俗易懂理解——BiLSTM-CRF - 梦里寻梦的文章 - 知乎](https://zhuanlan.zhihu.com/p/115053401)
