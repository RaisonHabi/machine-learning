## NDCG  
Normalized Discounted cumulative gain 直译为归一化折损累计增益，通常用来衡量和评价搜索结果算法。  
**DCG的两个思想：**  
> 高关联度的结果比一般关联度的结果更影响最终的指标得分；  
有高关联度的结果出现在更靠前的位置的时候，指标会越高；

**累计增益（CG）**  
CG(cumulative gain)是DCG的前身，只考虑到了相关性的关联程度，没有考虑到位置的因素。它是一个搜素结果相关性分数的总和。  
**折损累计增益（DCG）**  
DCG(Discounted 的CG)就是在每一个CG的结果上除以一个折损值，目的就是为了让排名越靠前的结果越能影响最后的结果。假设排序越往后，价值越低。到第i个位置的时候，它的价值是 1/log2(i+1)，那么第i个结果产生的效益就是 reli * 1/log2(i+1)  
**归一化折损累计增益（NDCG）**  
NDCG(Normalized 的DCG)由于搜索结果随着检索词的不同，返回的数量是不一致的，而DCG是一个累加的值，没法针对两个不同的搜索结果进行比较，因此需要归一化处理，这里是除以IDCG。  
*IDCG为理想情况下最大的DCG值。*

## MAP(Mean Average Precision)  
主集合的平均准确率(MAP)是每个主题的平均准确率的平均值。  
MAP是反映系统在全部相关文档上性能的单值指标。系统检索出来的相关文档越靠前(rank 越高)，MAP就可能越高。如果系统没有返回相关文档，则准确率默认为0。  
示例：  
> 假设有两个主题，主题1有4个相关网页，主题2有5个相关网页。某系统对于主题1检索出4个相关网页，其rank分别为1, 2, 4, 7；对于主题2检索出3个相关网页，其rank分别为1,3,5。对于主题1，平均准确率为(1/1+2/2+3/4+4/7)/4=0.83。对于主题2，平均准确率为(1/1+2/3+3/5+0+0)/5=0.45。则MAP= (0.83+0.45)/2=0.64。”

## MRR(Mean Reciprocal Rank)  
是把标准答案在被评价系统给出结果中的排序取倒数作为它的准确度，再对所有的问题取平均。  
示例：  
> 有3个query的rank为3、2、1，Reciprocal Rank为1/3、1/2、1/1  
可计算这个系统的MRR值为：(1/3 + 1/2 + 1)/3 = 11/18=0.61。

## reference  
[搜索评价指标——NDCG](https://www.cnblogs.com/by-dream/p/9403984.html)  
[NDCG及其实现](https://blog.csdn.net/lujiandong1/article/details/77123805)  
[IR的评价指标-MAP,NDCG和MRR](https://zhuanlan.zhihu.com/p/38850753)
